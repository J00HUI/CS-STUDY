### 1.3 중개 기능
그림처럼 송신 호스트에서 수신 호스트로 데이터를 전달하려면, 중개 역할을 수행하는 중개 노드를 거쳐야 한다.   
중개 시스템은 데이터가 목적지까지 올바르게 전달되도록, 경로 배정 기능을 수행한다.   
중개 시스템에서 경로 배정 기능을 수행하는 네트워크 계층의 프로토콜이 동작하는데, 이와 같은 **경로 배정 기능** 을 **라우팅** (Routing)이라 한다.   

<그림>

중개 노드인 라우터(Router)는 자신에게 도착한 헤더 정보를 해석해서 적절한 경로로 전달하며, 다음 라우터로 보내기 전에 헤더 정보를 수정하는 작업도 진행한다.   
라우터 좌우에 위치한 네트워크는 종류가 다를 수도 있다.    
네트워크가 다르면 물리적인 특성뿐 아니라, 하위 계층의 헤더 정보도 다를 수 있다.   
따라서 헤더 정보의 값을 해석하여 변환하는 작업은 라우터의 중요 기능에 해당한다.  
</br>

### 2 계층별 기능
OSI 7계층 모델의 모든 계층이 중요하지만, 특히 전송 계층이 중요하다.   
전송 계층은 통신 양단에 있는 최종 사용자(프로세스) 사이의 종단 연결을 제공한다.   
호스트에서 실행되는 프로세스와 프로세스 사이의 연결을 설정하여, 데이터를 주고 받을 수 있게 해주는 것이 전송 계층이다.   
```
전화 시스템을 예로 들면, 통화자 사이에 통화 연결을 설정하는 것이 바로 전송 계층이다.
```

전송 계층의 하위에 있는 물리 계층, 데이터 링크 계층, 네트워크 계층은 전송 계층의 연결을 설정하고 지원하는 역할을 수행한다.   
상위에 있는 세션 계층, 표현 계층, 응용 계층은 전송 계층의 연결을 어떻게 활용할지에 대하여 다룬다.    

따라서 OSI 7 계층 모델은 전송 계층을 기준으로, 두 부분으로 나뉜다고 볼 수 있다.   
실제로 TCP/IP 모델에서는 운영체제 내부에 계층 4까지의 기능을 구현하고, 상위 계층의 기능은 사용자 프로그램으로 구현한다.   
</br>

### 2.1 물리 계층
* OSI 7 계층의 맨 밑에 위치하는 **물리 계층(physical Layer)** 은 전송 매체의 물리적 인터페이스에 관한 사항을 기술한다.
* 즉, 전송 매체에는 개별 정보의 비트(bit) 교환 문제를 다룬다.
* 물리 계층은 하드웨어 시스템으로 구현되고, 계층 2 이상의 프로토콜들은 소프트웨어적으로 구현된다.
* 물리 계층에서 다루는 전송 매체의 특성에는, 데이터 전송 속도, 송수신 호스트 사이의 클럭 동기화 방법, 물리적 형태 등이 있다.
</br>

### 2.2 데이터 링크 계층
* **데이터 링크 계층(Data Link Layer)** 은 물리 계층을 통해 전송되는 데이터의 물리적 전송 오류를 해결한다.
* 결과적으로 상위의 네트워크 계층에 신뢰성 있는 패킷 전송을 보장해주어 전송 오류에 대한 부담을 없애준다.
* 데이터 링크 계층은 갈림길에서 전송 경로를 선택할 수 없으므로 두 호스트가 일대일로 직접 연결된 환경에서만 데이터 전송을 지원한다.
* 데이터 링크 계층을 이용해 전송되는 데이터를 **프레임(Frame)** 이라 부른다.
* 프레임 헤더에 표시되는 송수신 호스트 정보에는 LAN 카드에 내장된 송수신 호스트의 MAC 주소가 기록된다.
* 데이터 링크 계층은 다른 상위 계층처럼 송신 호스트와 수신 호스트 사이의 전송 속도 차이를 고려한 흐름 제어 기능도 지원할 수 있다.
</br>

### 2.3 네트워크 계층
* 네트워크 계층(Network Layer)은 송신 호스트가 전송한 데이터가 **어떤 경로를 통해** 수신 호스트에 전달되는지를 결정하는 **라우팅 문제** 를 처리한다.
* 전달 경로 선택은 미리 정해지는 정적인(Static) 방식과 네트워크의 현재 부하 상태에 따라 결정되는 동적인(Dynamic) 방식으로 구분한다.
* 네트워크 계층에서는 전송 데이터를 **패킷(Packet)** 이라 부르며, 중개 과정에서 경로 선택의 기준이 되는 호스트 주소가 필요하다.
* 인터넷에서는 IP 프로토콜이 네트워크 계층의 기능을 수행하므로, 호스트의 IP 주소가 경로 선택에 중요한 기준이 된다.
* 인터넷에 연결된 호스트는 네트워크 계층의 주소와 데이터 링크 계층의 주소를 모두 가진다.
* 컴퓨터 네트워크를 이용해 전송되는 패킷이 지나치게 많으면 네트워크의 전송 속도가 떨어진다.
* 네트워크의 전송 속도가 감소하면 프로토콜 동작에 많은 영향을 미칠 수 있는데, 네트워크의 트래픽이 과도하게 증가하는 문제를 조절하는 **혼잡 제어(Congestion Control)** 기능도 네트워크 계층에서 담당한다.
</br>

### 2.4 전송 계층
* 전송 계층(Transport Layer)은 송신 프로세스와 수신 프로세스를 **직접 연결** 하는 **단대단(end-to-end)** 통신 기능을 제공한다.
* 전송 계층 아래에 있는 하위 계층은 호스트와 호스트 사이의 데이터 전송 과정에서 발생하는 문제들만 반영한다.
* 반면, 전송 계층은 컴퓨터 내부에서 논리적으로 구축되는 통신 당사자인 프로세스 사이의 통신 문제를 다룬다.
* 전송 계층에서는 전송 오류율, 전송 속도 등과 같은 일반 사용자의 서비스 요구 유형에 대한 고려와 흐름 제어 기능도 제공한다.
</br>

### 2.5 세션 계층
* 세션 계층(Session Layer)의 기능은 전송 계층과 거의 유사하다.
* 그러나 사용자에게 원격 파일 전송이나 원격 로그인 등과 같은 상위적 연결 개념인 세션 기능을 제공한다는 점이 다르다.
* 세션 계층에서는 송수신 호스트 사이의 대화 제어를 비롯해, 상호 배타적인 동작을 제어하기 위한 토큰 제어, 일시적인 전송 장애를 해결하기 위한 동기(Synchronization) 기능 등을 제공한다.
</br>

### 2.6 표현 계층
* 계층 5까지는 주로 데이터의 전송에 관한 내용을 다루지만 표현 계층(Presentation Layer)은 데이터의 의미(Semantic)와 표현 방법(Syntax)을 처리한다.
* 즉, 통신 양단에서 서로 이해할 수 있는 표준 방식으로 데이터를 코딩(Coding)하는 문제를 다룬다.
* 호스트의 데이터 표현 방법이 서로 다르면, 상대방의 데이터를 이해할 수 있도록 적절하게 변환하는 과정이 필요하다.
* 인터넷상에서 개인 정보의 유통과 상거래가 활발해지면서 보안의 중요성이 강조되고 있는데, 데이터를 암호화하는 기술도 표현 계층에서 다룬다.
* 또한 영상 정보 같은 대용량 데이터의 크기를 줄여주는 압축도 표현 계층의 주요 기능이다.
</br>

### 2.7 응용 계층
* 최상위의 응용 계층(Application Layer)에서는 다양하게 존재하는 응용 환경에서 공통으로 필요한 기능을 다룬다.
* 응용 환경은 매우 다양해 범위가 방대하지만, 인터넷에서 많이 사용하는 서비스는 FTP(File Transfer Protocol)로부터 시작된 파일 공유 서비스이다.
* 네트워크 파일을 이용할 때는 파일을 공유할 뿐 아니라, 허가된 사용자가 적절한 접근 권한에 따라 사용할 수 있게 해야 한다.
* 텔넷(Telnet)이 제공하는 가상 터미널, 전자 메일 등도 대표적인 인터넷 서비스이다.

