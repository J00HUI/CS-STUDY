## 👩🏻‍💻 네트워크와 트러블 슈팅

국내에서 꽤 큰 은행에 속하는데, 매주 20\~30분씩 네트워크 일부가 마비되곤 하였다. 그 문제를 1년 가까이 해결하지 못해 네트워크 운영 팀은 녹초가 되어 있었다. 외부의 네트워크 분석 팀에도 의뢰했지만 원인을 찾지 못했다.
네트워크가 너무 대규모이고, 얽힌 네트워크 장비가 너무 많았다. 그나마 예측한 오류 원인은 특정 네트워크 장비에서 MAC 주소가 잘못된 패킷을 1주일에 2~3개 정도 만들어낸다는 것이었다. 실제로 MAC 주소는 네트워크에서 유일해야 
하는데, 패킷 중에 다른 네트워크 장비와 MAC 주소가 일치한 것이 있어 패킷 흐름을 꼬아버린 것이다.

약간 다르긴 해도 이와 비슷한 상황이 또 다른 회사에서도 발생했다. 이 회사는 일주일에 몇 시간씩 네트워크가 마비되었는데, 밝혀진 원인은 회사 사장님이 중국에서 사온 저가 네트워크 카드의 MAC 주소가 회사 메인 네트워크 라우터의
MAC 주소가 같았던 것이다. 결국 네트워크가 마비되던 시간은 사장님이 그 네트워크 카드를 설치한 본인 PC를 켜둔 시간이었다.

이와 같이 네트워크는 정상 동작을 위해 지켜야 할 중요한 사항을 지키지 않으면 네트워크 기능을 완전히 상실하는 경우가 많다. 지켜지지 않은 중요한 사항을 찾아내는 작업은 만만치 않다. 하지만 필자가 경험한 현장에서는 네트워크의
문제점을 찾기 어려운 이유가 꼭 네트워크 자체에 있는 것만은 아니었다.

필자가 어려움을 느끼는 진짜 이유는, 실제 현장에서 네트워크를 잘 아는 사람이 정말 드물다는 것이다. 대부분의 네트워크 엔지니어가 장비를 설치하고 설정하는 이들이었다. 진정한 네트워크 전문가라고 느껴지는 사람을 거의 만나지
못했다. 하지만 현장에서는 그런 사람이 정말 필요하다. 패킷 구조를 명확히 이해하고 추적할 수 있는 사람. 네트워크 문제로 1년 가까이 속병을 앓던 은행도 전문가에게 상당한 비용을 지불해서라도 문제를 진심으로 해결하고
싶어 했다. 그런 문제를 해결하려면 네트워크 장비 설정과 같은 레벨의 업무보다는 좀 더 근원적으로 네트워크에 대해 정확히 알아야 한다. 패킷의 종류별 구조, 패킷의 발생 순서, 패킷의 이벤트 종류와 같은 것들 말이다.
